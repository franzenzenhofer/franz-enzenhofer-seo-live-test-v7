const s=e=>`results-meta:${e}`,n="ui:lastRun",l=async e=>{const t=s(e),{[t]:a}=await chrome.storage.local.get(t);return a||null},u=(e,t)=>{const a=s(e),o=(r,c)=>{c==="local"&&r[a]&&t(r[a].newValue||null)};return chrome.storage.onChanged.addListener(o),()=>chrome.storage.onChanged.removeListener(o)},i=async()=>{const{[n]:e}=await chrome.storage.local.get(n);return e||null},w=async(e,t)=>{await chrome.storage.local.set({[s(e)]:t,[n]:{...t,tabId:e}})};export{i as a,u as b,l as r,w};
