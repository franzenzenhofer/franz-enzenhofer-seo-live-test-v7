(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();const L={id:"head-title",name:"Title Present",enabled:!0,run:async t=>{var s,r;const e=((r=(s=t.doc.querySelector("head > title"))==null?void 0:s.textContent)==null?void 0:r.trim())||"",n=e.length>0;return{label:"HEAD",message:n?`SEO-<title>: ${e}`:"No title-tag found in head.",type:n?"ok":"error",what:"static",priority:n?1e3:0}}},N={id:"head-meta-description",name:"Meta Description",enabled:!0,run:async t=>{const e=t.doc.querySelectorAll('meta[name="description"]');return e.length===0?{label:"BODY",message:"No meta description found.",type:"error",what:"static",priority:0}:e.length>1?{label:"HEAD",message:"Multiple meta description found.",type:"error",what:"static",priority:0}:{label:"HEAD",message:`Meta description: ${e[0].content||""}`,type:"info",what:"static",priority:760}}},q={id:"head-canonical",name:"Canonical Link",enabled:!0,run:async t=>{const e=t.doc.querySelector('link[rel="canonical"]');return!e||!e.href?{label:"HEAD",message:"No canonical link found.",type:"error",what:"static"}:{label:"HEAD",message:`Canonical: ${e.href}`,type:"info",what:"static"}}},M=t=>t?t>=200&&t<300?{t:"ok",m:`HTTP ${t}`}:t>=300&&t<400?{t:"info",m:`Redirect ${t}`}:t>=400?{t:"error",m:`HTTP Error ${t}`}:{t:"info",m:`HTTP ${t}`}:{t:"warn",m:"Status unknown"},I={id:"http-status",name:"HTTP Status",enabled:!0,run:async t=>{const e=M(t.status);return{label:"HTTP",message:e.m,type:e.t,what:"headers"}}},G=t=>{try{const e=new URL(t);return e.protocol!=="http:"&&e.protocol!=="https:"?"":`${e.origin}/robots.txt`}catch{return""}},j={id:"robots-exists",name:"robots.txt Exists",enabled:!0,run:async t=>{const e=G(t.url);if(!e)return{label:"ROBOTS",message:"Invalid or unsupported URL",type:"info"};try{const n=await fetch(e,{method:"GET"});if(!n.ok)return{label:"ROBOTS",message:`robots.txt not reachable (${n.status})`,type:"warn"};const s=await n.text();return{label:"ROBOTS",message:/\n\s*sitemap\s*:/i.test(`
${s}`)?"robots.txt with Sitemap":"robots.txt present",type:"info"}}catch(n){return{label:"ROBOTS",message:String(n),type:"warn"}}}},U=t=>t.toLowerCase().split(",").map(e=>e.trim()),_={id:"head-robots-meta",name:"Robots Meta",enabled:!0,run:async t=>{const e=t.doc.querySelector('meta[name="robots"]');if(!e||!e.content)return{label:"HEAD",message:"No robots meta tag.",type:"info",what:"static",priority:610};const n=U(e.content),s=n.includes("noindex"),r=n.includes("nofollow");let a="robots: "+e.content,o="info";return(s||r)&&(o="warn"),{label:"HEAD",message:a,type:o,what:"static",priority:610}}},B={id:"head-hreflang",name:"Hreflang Links",enabled:!0,run:async t=>{const e=t.doc.querySelectorAll('link[rel="alternate"][hreflang]');return e.length===0?{label:"HEAD",message:"No hreflang links found.",type:"info",what:"static"}:{label:"HEAD",message:`Hreflang links: ${e.length}`,type:"info",what:"static"}}},V={id:"og-title",name:"Open Graph Title",enabled:!0,run:async t=>{const e=t.doc.querySelector('meta[property="og:title"]');return!e||!e.content?{label:"HEAD",message:"No og:title meta.",type:"info",what:"static"}:{label:"HEAD",message:`OG title: ${e.content}`,type:"info",what:"static"}}},F={id:"og:description",name:"Open Graph Description",enabled:!0,async run(t){var s;const e=t.doc.querySelector('meta[property="og:description"], meta[name="og:description"]');if(!e)return{label:"OG",message:"Missing og:description",type:"warn"};const n=((s=e.getAttribute("content"))==null?void 0:s.trim())||"";return n?{label:"OG",message:`og:description: ${n}`,type:"info"}:{label:"OG",message:"Empty og:description",type:"warn"}}},J={id:"og:url",name:"Open Graph URL",enabled:!0,async run(t){var s;const e=t.doc.querySelector('meta[property="og:url"], meta[name="og:url"]');if(!e)return{label:"OG",message:"Missing og:url",type:"warn"};const n=((s=e.getAttribute("content"))==null?void 0:s.trim())||"";return n?{label:"OG",message:`og:url: ${n}`,type:"info"}:{label:"OG",message:"Empty og:url",type:"warn"}}},z={id:"og:image",name:"Open Graph Image",enabled:!0,async run(t){const e=t.doc.querySelector('meta[property="og:image"], meta[name="og:image"]');if(!e)return{label:"OG",message:"Missing og:image",type:"warn"};const n=(e.getAttribute("content")||"").trim();return/^https?:\/\//i.test(n)?{label:"OG",message:`og:image: ${n}`,type:"info"}:{label:"OG",message:"og:image not absolute",type:"warn"}}},Y=t=>t.trim().length,K={id:"head:title-length",name:"Title Length",enabled:!0,async run(t){var s;const e=((s=t.doc.querySelector("head > title"))==null?void 0:s.textContent)||"",n=Y(e);return n?n<10?{label:"HEAD",message:"Title too short",type:"warn"}:n>70?{label:"HEAD",message:"Title too long",type:"warn"}:{label:"HEAD",message:`Title length OK (${n})`,type:"ok"}:{label:"HEAD",message:"Missing <title>",type:"error"}}},W={id:"head:meta-viewport",name:"Meta Viewport",enabled:!0,async run(t){const e=t.doc.querySelector('meta[name="viewport"]');if(!e)return{label:"HEAD",message:"Missing meta viewport",type:"warn"};const n=(e.getAttribute("content")||"").toLowerCase();return n.includes("width=device-width")&&(n.includes("initial-scale=1")||n.includes("initial-scale=1.0"))?{label:"HEAD",message:"Viewport OK",type:"ok"}:{label:"HEAD",message:"Viewport content may be suboptimal",type:"warn"}}},X={id:"head:brand-in-title",name:"Brand in Title",enabled:!0,async run(t,e){var a;const n=e.globals.variables||{},s=String(n.brand||"").trim();return s?(((a=t.doc.querySelector("head > title"))==null?void 0:a.textContent)||"").toLowerCase().includes(s.toLowerCase())?{label:"HEAD",message:"Title contains brand",type:"ok"}:{label:"HEAD",message:"Title missing brand",type:"warn"}:{label:"HEAD",message:"Brand not configured",type:"info"}}},Q={id:"head:shortlink",name:"Shortlink Header",enabled:!0,async run(t){const e=t.doc.querySelector('link[rel="shortlink"]');return e?{label:"HEAD",message:`shortlink: ${e.getAttribute("href")||""}`,type:"info"}:{label:"HEAD",message:"No shortlink",type:"info"}}},Z={id:"head:amphtml",name:"AMP HTML Link",enabled:!0,async run(t){const e=t.doc.querySelector('link[rel="amphtml"]');return e?{label:"HEAD",message:`amphtml: ${e.getAttribute("href")||""}`,type:"info"}:{label:"HEAD",message:"No amphtml link",type:"info"}}},ee={id:"dom:ldjson",name:"LD+JSON presence",enabled:!0,async run(t){const e=t.doc.querySelectorAll('script[type="application/ld+json"]').length;return e?{label:"DOM",message:`ld+json blocks: ${e}`,type:"info"}:{label:"DOM",message:"No ld+json",type:"info"}}},te={id:"head:meta-keywords",name:"Meta Keywords",enabled:!0,async run(t){return t.doc.querySelector('meta[name="keywords"]')?{label:"HEAD",message:"Meta keywords present (deprecated)",type:"info"}:{label:"HEAD",message:"No meta keywords",type:"ok"}}},ne={id:"head:meta-charset",name:"Meta charset",enabled:!0,async run(t){const e=t.doc.querySelector("meta[charset]");return e?{label:"HEAD",message:`charset=${e.getAttribute("charset")||""}`,type:"info"}:{label:"HEAD",message:"Missing meta[charset]",type:"warn"}}},se={id:"head:canonical-absolute",name:"Canonical absolute URL",enabled:!0,async run(t){var n;const e=((n=t.doc.querySelector('link[rel="canonical"]'))==null?void 0:n.getAttribute("href"))||"";if(!e)return{label:"HEAD",message:"No canonical link",type:"info"};try{return new URL(e,t.url),e.startsWith("http")?{label:"HEAD",message:"Canonical absolute",type:"ok"}:{label:"HEAD",message:"Canonical is relative",type:"warn"}}catch{return{label:"HEAD",message:"Invalid canonical URL",type:"warn"}}}},v=t=>{try{const e=new URL(t);return e.hash="",e.search="",e.pathname=e.pathname.replace(/\/index\.(html?)$/i,"/").replace(/([^/])$/,"$1"),e.pathname!=="/"&&e.pathname.endsWith("/")&&(e.pathname=e.pathname.slice(0,-1)),e.hostname=e.hostname.toLowerCase(),e.toString()}catch{return t}},re={id:"head:canonical-self",name:"Canonical self-referential",enabled:!0,async run(t){var r;const e=((r=t.doc.querySelector('link[rel="canonical"]'))==null?void 0:r.getAttribute("href"))||"";if(!e)return{label:"HEAD",message:"No canonical",type:"info"};const n=v(t.url),s=v(new URL(e,t.url).toString());return n===s?{label:"HEAD",message:"Canonical matches URL",type:"ok"}:{label:"HEAD",message:`Canonical differs (${s})`,type:"info"}}},ae={id:"head:twitter-card",name:"Twitter Card",enabled:!0,async run(t){const e=t.doc.querySelector('meta[name="twitter:card"]');return e?{label:"HEAD",message:`twitter:card=${e.getAttribute("content")||""}`,type:"info"}:{label:"HEAD",message:"No twitter:card",type:"info"}}},oe={id:"head:robots-noindex",name:"Meta robots noindex",enabled:!0,async run(t){const e=t.doc.querySelector('meta[name="robots"]');if(!e)return{label:"HEAD",message:"No robots meta",type:"info"};const n=(e.getAttribute("content")||"").toLowerCase();return/\bnoindex\b/.test(n)?{label:"HEAD",message:"robots: noindex",type:"warn"}:{label:"HEAD",message:"robots: indexable",type:"ok"}}},le=t=>((t==null?void 0:t["content-encoding"])||"").toLowerCase(),ie={id:"http:gzip",name:"Gzip/Brotli",enabled:!0,async run(t){const e=le(t.headers);return e?e.includes("br")||e.includes("gzip")?{label:"HTTP",message:`Compressed (${e})`,type:"ok"}:{label:"HTTP",message:`Not compressed (${e})`,type:"warn"}:{label:"HTTP",message:"No content-encoding header",type:"warn"}}},ce={id:"http:hsts",name:"Strict-Transport-Security",enabled:!0,async run(t){var n;const e=(n=t.headers)==null?void 0:n["strict-transport-security"];return e?{label:"HTTP",message:`HSTS: ${e}`,type:"info"}:{label:"HTTP",message:"Missing HSTS header",type:"warn"}}},ue={id:"http:link-header",name:"Link Header",enabled:!0,async run(t){var n;const e=(n=t.headers)==null?void 0:n.link;return e?{label:"HTTP",message:`Link: ${e}`,type:"info"}:{label:"HTTP",message:"No Link header",type:"info"}}},de={id:"http:x-robots",name:"X-Robots-Tag",enabled:!0,async run(t){var n;const e=(n=t.headers)==null?void 0:n["x-robots-tag"];return e?{label:"HTTP",message:`X-Robots-Tag: ${e}`,type:"info"}:{label:"HTTP",message:"No X-Robots-Tag",type:"info"}}},me=(t,e)=>((t==null?void 0:t[e])||(t==null?void 0:t[e.toLowerCase()])||"").toLowerCase(),ge={id:"http:x-cache",name:"X-Cache hit/miss",enabled:!0,async run(t){const e=me(t.headers,"x-cache");return e?{label:"HTTP",message:`X-Cache: ${e.includes("hit")?"HIT":e.includes("miss")?"MISS":e}`,type:"info"}:{label:"HTTP",message:"No X-Cache header",type:"info"}}},pe={id:"http:vary-user-agent",name:"Vary: User-Agent",enabled:!0,async run(t){var n;return(((n=t.headers)==null?void 0:n.vary)||"").toLowerCase().includes("user-agent")?{label:"HTTP",message:"Vary includes User-Agent",type:"info"}:{label:"HTTP",message:"Vary does not include User-Agent",type:"info"}}},be=(t,e)=>(t==null?void 0:t[e.toLowerCase()])||"",ye={id:"http:has-header",name:"HTTP has header (configurable)",enabled:!0,async run(t,e){const n=e.globals.variables||{},s=String(n.http_has_header||"").trim();if(!s)return{label:"HTTP",message:"No header configured (set variables.http_has_header)",type:"info"};const r=s.split(",").map(o=>o.trim().toLowerCase()).filter(Boolean),a=r.filter(o=>!be(t.headers,o));return a.length?{label:"HTTP",message:`Missing headers: ${a.join(", ")}`,type:"warn"}:{label:"HTTP",message:`All headers present: ${r.join(", ")}`,type:"ok"}}},he=t=>/\b(404|not found|seite nicht gefunden|pagina no encontrada)\b/i.test(t),fe={id:"http:soft-404",name:"Soft 404 check",enabled:!0,async run(t){const e=t.status;return!e||e>=400?{label:"HTTP",message:"Status not 2xx, skipping soft 404",type:"info"}:he(t.html)?{label:"HTTP",message:"Possible soft 404: page looks not found but status is 2xx",type:"warn"}:{label:"HTTP",message:"Not a soft 404",type:"ok"}}},we={id:"head:canonical-redirects",name:"Canonical Redirects",enabled:!0,async run(t){var n;const e=(n=t.doc.querySelector('link[rel="canonical"]'))==null?void 0:n.getAttribute("href");if(!e)return{label:"HEAD",message:"No canonical link found.",type:"error"};try{const s=await fetch(e,{method:"HEAD",redirect:"manual"}),r=s.headers.get("location");return s.status>=300&&s.status<400?{label:"HEAD",message:`Canonical redirects to ${r||"(no location)"}`,type:"warn"}:{label:"HEAD",message:"Canonical does not redirect",type:"ok"}}catch(s){return{label:"HEAD",message:`Canonical check failed: ${String(s)}`,type:"warn"}}}},Se={id:"body:h1",name:"H1 Present",enabled:!0,async run(t){const e=t.doc.querySelectorAll("h1").length;return e?e>1?{label:"BODY",message:"Multiple <h1> found",type:"warn"}:{label:"BODY",message:"<h1> OK",type:"ok"}:{label:"BODY",message:"No <h1> found",type:"warn"}}},Ae={id:"body:nofollow",name:"Nofollow Links",enabled:!0,async run(t){const n=Array.from(t.doc.querySelectorAll('a[rel~="nofollow"]')).length;return n?{label:"BODY",message:`${n} nofollow links`,type:"info"}:{label:"BODY",message:"No rel=nofollow links",type:"ok"}}},ke={id:"a11y:linked-images-alt",name:"Linked Images need alt",enabled:!0,async run(t){const e=t.doc.querySelectorAll("a img");let n=0;return e.forEach(s=>{(s.getAttribute("alt")||"").trim()||n++}),n?{label:"A11Y",message:`${n} linked images missing alt`,type:"warn"}:{label:"A11Y",message:"Linked images have alt",type:"ok"}}},Re=(t,e)=>{try{const n=new URL(t),s=new URL(e,t);return n.host===s.host}catch{return!1}},Te={id:"body:internal-links",name:"Internal links count",enabled:!0,async run(t){const e=Array.from(t.doc.querySelectorAll("a[href]"));let n=0,s=0;for(const r of e)Re(t.url,r.getAttribute("href")||"")?n++:s++;return{label:"BODY",message:`Links: internal ${n}, external ${s}`,type:"info"}}},ve={id:"body:parameterized-links",name:"Links with query params",enabled:!0,async run(t){const e=Array.from(t.doc.querySelectorAll("a[href]"));let n=0;for(const s of e)(s.getAttribute("href")||"").includes("?")&&n++;return{label:"BODY",message:`Links with parameters: ${n}`,type:"info"}}},De={id:"head:rel-alternate-media",name:"rel=alternate media",enabled:!0,async run(t){const e=t.doc.querySelectorAll('link[rel="alternate"][media]').length;return e?{label:"HEAD",message:`rel=alternate[media] links: ${e}`,type:"info"}:{label:"HEAD",message:"No rel=alternate media links",type:"info"}}},Ce=t=>{var e;return((e=t.querySelector('link[rel="amphtml"]'))==null?void 0:e.getAttribute("href"))||""},Oe=t=>{try{const e=new URL(t),n=e.host+e.pathname;return e.protocol==="https:"?`https://cdn.ampproject.org/c/s/${n}`:`https://cdn.ampproject.org/c/${n}`}catch{return""}},He={id:"google:amp-cache-url",name:"AMP Cache URL",enabled:!0,async run(t){const e=Ce(t.doc);if(!e)return{label:"HEAD",message:"No amphtml link",type:"info"};const n=Oe(e);return n?{label:"HEAD",message:`AMP Cache: ${n}`,type:"info"}:{label:"HEAD",message:"AMP Cache not derivable",type:"info"}}},$e=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),xe=(t,e)=>{const n=e.trim();if(!n)return!1;let s="^"+$e(n).replace(/\*/g,".*");return!s.endsWith("$")&&!n.endsWith("*")&&(s+=".*"),new RegExp(s).test(t)},Ee=(t,e)=>{const n=e.toLowerCase();let s="",r=!1;for(let a of t)a=a.toLowerCase().trim(),a&&(n.includes(a)||a==="*")&&a.length>=s.length&&(s=a,r=!0);return r};function H(t,e,n="Googlebot"){let s=-1,r=!1,a=!1,o=!1;const l=(()=>{try{const y=new URL(e);return y.pathname+y.search}catch{return"/"}})();let i=[],c="";for(const y of t.split(`
`)){let d=y.trim();if(!d||d.startsWith("#"))continue;d.includes("#")&&(d=d.slice(0,d.indexOf("#")).trim());const f=d.indexOf(":");if(f===-1)continue;const m=d.slice(0,f).trim().toLowerCase(),h=d.slice(f+1).trim();if(m==="user-agent"){i=c==="user-agent"?[...i,h]:[h],c="user-agent";continue}if(m==="disallow"||m==="allow"||m==="noindex"){if(c=m,!i.length||!Ee(i,n)||!xe(l,h))continue;const w=h.trim().length;w>s&&(s=w,r=a=!1),w===s&&(m==="allow"&&(r=!0),m==="disallow"&&(a=!0),m==="noindex"&&(o=!0))}}const u=s>=0&&a;return{allowed:!u||r,disallowed:u,noindex:o}}const Pe=(t,e)=>{try{return new URL(t).host===new URL(e).host}catch{return!1}},Le={id:"robots:blocked-resources",name:"robots.txt blocked resources",enabled:!0,async run(t){const e=t.resources||[];if(!e.length)return{label:"ROBOTS",message:"No resource requests captured",type:"info"};const n=new URL(t.url),s=await fetch(`${n.origin}/robots.txt`).catch(()=>null);if(!s||!s.ok)return{label:"ROBOTS",message:"robots.txt not reachable for blocked check",type:"info"};const r=await s.text(),a="Googlebot";let o=0;for(const l of e){if(!Pe(t.url,l))continue;const i=H(r,l,a),c=!!i.allowed,u=!!i.disallowed;(!c||u)&&o++}return o?{label:"ROBOTS",message:`${o} resources disallowed by robots.txt`,type:"warn"}:{label:"ROBOTS",message:"No blocked resources",type:"ok"}}},D=t=>t.length>1&&t.endsWith("/"),Ne={id:"url:trailing-slash",name:"URL trailing slash consistency",enabled:!0,async run(t){var s;let e="/";try{e=new URL(t.url).pathname}catch{}const n=((s=t.doc.querySelector('link[rel="canonical"]'))==null?void 0:s.getAttribute("href"))||"";if(!n)return{label:"URL",message:"No canonical to compare",type:"info"};try{const r=new URL(n,t.url).pathname;return D(e)===D(r)?{label:"URL",message:"Trailing slash consistent",type:"ok"}:{label:"URL",message:"Trailing slash inconsistency with canonical",type:"warn"}}catch{return{label:"URL",message:"Invalid canonical URL",type:"warn"}}}},$=t=>{let e=1;const n=t.childNodes||[];for(let s=0;s<n.length;s++)e+=$(n[s]);return e},qe={id:"dom:node-count",name:"DOM node count",enabled:!0,async run(t){return{label:"DOM",message:`Node count: ${$(t.doc.documentElement)}`,type:"info"}}},x=t=>{let e=1;for(let n=0;n<t.children.length;n++)e=Math.max(e,1+x(t.children[n]));return e},Me={id:"dom:node-depth",name:"DOM node depth",enabled:!0,async run(t){return{label:"DOM",message:`Max depth: ${x(t.doc.documentElement)}`,type:"info"}}},Ie=t=>{var e;return(((e=t.body)==null?void 0:e.innerText)||"").replace(/\s+/g," ").trim().length},Ge={id:"dom:client-side-rendering",name:"Client-side rendering heuristic",enabled:!0,async run(t){const e=Ie(t.doc),n=t.doc.querySelectorAll("script[src]").length,s=t.doc.querySelectorAll("script:not([async]):not([defer])[src]").length;return e<40&&(n>5||s>0)?{label:"DOM",message:"Possible client-side rendering (very low text, many scripts)",type:"info"}:{label:"DOM",message:"Server-rendered content likely present",type:"info"}}},je={id:"dom:html-lang",name:"HTML lang attribute",enabled:!0,async run(t){const e=(t.doc.documentElement.getAttribute("lang")||"").trim();return e?{label:"DOM",message:`lang=${e}`,type:"info"}:{label:"DOM",message:"Missing html[lang]",type:"warn"}}},Ue={id:"speed:link-preload",name:"rel=preload links",enabled:!0,async run(t){const e=t.doc.querySelectorAll('link[rel="preload"]').length;return e?{label:"SPEED",message:`preload links: ${e}`,type:"info"}:{label:"SPEED",message:"No preload links",type:"info"}}},_e={id:"speed:blocking-scripts",name:"Blocking scripts in head",enabled:!0,async run(t){const e=t.doc.querySelectorAll("head script[src]:not([async]):not([defer])").length;return e?{label:"SPEED",message:`Blocking scripts in head: ${e}`,type:"warn"}:{label:"SPEED",message:"No blocking head scripts",type:"ok"}}},Be={id:"speed:preconnect",name:"rel=preconnect",enabled:!0,async run(t){const e=t.doc.querySelectorAll('link[rel="preconnect"]').length;return e?{label:"SPEED",message:`preconnect links: ${e}`,type:"info"}:{label:"SPEED",message:"No preconnect links",type:"info"}}},Ve={id:"speed:dns-prefetch",name:"rel=dns-prefetch",enabled:!0,async run(t){const e=t.doc.querySelectorAll('link[rel="dns-prefetch"]').length;return e?{label:"SPEED",message:`dns-prefetch links: ${e}`,type:"info"}:{label:"SPEED",message:"No dns-prefetch links",type:"info"}}},Fe={id:"google:is-connected",name:"Google auth connected",enabled:!0,async run(t,e){return e.globals.googleApiAccessToken||null?{label:"GOOGLE",message:"Google token present",type:"ok"}:{label:"GOOGLE",message:"No Google token",type:"info"}}},Je={id:"debug:page-summary",name:"Page summary (debug)",enabled:!1,async run(t){var r;const e=(((r=t.doc.querySelector("title"))==null?void 0:r.textContent)||"").trim(),n=t.headers&&Object.keys(t.headers).length||0,s=(t.resources||[]).length;return{label:"DEBUG",message:`Title: ${e} · headers: ${n} · resources: ${s}`,type:"info"}}},ze={id:"head:meta-googlebot",name:"Meta Googlebot",enabled:!0,async run(t){const e=t.doc.querySelector('meta[name="googlebot"]');return e?{label:"HEAD",message:`googlebot: ${e.getAttribute("content")||""}`,type:"info"}:{label:"HEAD",message:"No googlebot meta",type:"info"}}},S=new Map,R=t=>(S.has(t)||S.set(t,fetch(t).then(e=>e.ok?e.text():null).catch(()=>null)),S.get(t)),Ye={id:"robots:googlebot-url-check",name:"Googlebot URL allowed",enabled:!0,async run(t){let e="";try{e=new URL(t.url).origin}catch{return{label:"ROBOTS",message:"Invalid URL",type:"info"}}const n=await R(`${e}/robots.txt`);return n?!!H(n,t.url,"Googlebot").allowed?{label:"ROBOTS",message:"Googlebot is allowed",type:"ok"}:{label:"ROBOTS",message:"Googlebot is disallowed",type:"warn"}:{label:"ROBOTS",message:"robots.txt not reachable",type:"info"}}},Ke={id:"robots:sitemap-reference",name:"robots.txt Sitemap reference",enabled:!0,async run(t){let e="";try{e=new URL(t.url).origin}catch{return{label:"ROBOTS",message:"Invalid URL",type:"info"}}const n=await R(`${e}/robots.txt`);return n?/\n\s*sitemap\s*:\s*\S+/i.test(`
${n}`)?{label:"ROBOTS",message:"Sitemap reference present",type:"ok"}:{label:"ROBOTS",message:"No Sitemap reference",type:"warn"}:{label:"ROBOTS",message:"robots.txt not reachable",type:"info"}}},We={id:"robots:complexity",name:"robots.txt complexity",enabled:!0,async run(t){let e="";try{e=new URL(t.url).origin}catch{return{label:"ROBOTS",message:"Invalid URL",type:"info"}}const n=await R(`${e}/robots.txt`);if(!n)return{label:"ROBOTS",message:"robots.txt not reachable",type:"info"};const s=n.split(/\r?\n/),r=s.filter(l=>/^\s*disallow\s*:/i.test(l)).length,a=s.filter(l=>/^\s*allow\s*:/i.test(l)).length,o=s.filter(l=>/^\s*sitemap\s*:/i.test(l)).length;return{label:"ROBOTS",message:`Rules: Disallow ${r}, Allow ${a}, Sitemaps ${o}`,type:"info"}}},Xe={id:"a11y:linked-images-alt-no-text",name:"Linked images without alt and text",enabled:!0,async run(t){let e=0;const n=Array.from(t.doc.querySelectorAll("a"));for(const s of n){const r=s.querySelector("img");if(!r)continue;const a=(r.getAttribute("alt")||"").trim(),o=(s.textContent||"").trim();!a&&!o&&e++}return e?{label:"A11Y",message:`${e} linked images without alt and text`,type:"warn"}:{label:"A11Y",message:"Linked images have alt or text",type:"ok"}}},E=new Map,Qe=(t,e)=>`psi:${e}:${t}`,C=()=>Date.now(),Ze=async t=>E.get(t)||null,et=async(t,e)=>(E.set(t,e),!0),T=async(t,e,n)=>{const s=Qe(t,e),r=await Ze(s);if(r&&C()-r.ts<5*6e4)return r.data;const a=`https://www.googleapis.com/pagespeedonline/v5/runPagespeed?strategy=${e}&url=${encodeURIComponent(t)}&key=${encodeURIComponent(n)}`,o=await fetch(a);if(!o.ok)throw new Error(`PSI ${o.status}`);const l=await o.json();return await et(s,{ts:C(),data:l}),l},tt={id:"psi:mobile",name:"PSI v5 Mobile score",enabled:!1,async run(t,e){var o,l,i;const n=e.globals.variables||{},s=String(n.google_page_speed_insights_key||"").trim();if(!s)return{label:"PSI",message:"No PSI key set",type:"info"};const r=await T(t.url,"mobile",s);return{label:"PSI",message:`Mobile performance: ${Math.round((((i=(l=(o=r.lighthouseResult)==null?void 0:o.categories)==null?void 0:l.performance)==null?void 0:i.score)||0)*100)}`,type:"info"}}},nt={id:"psi:desktop",name:"PSI v5 Desktop score",enabled:!1,async run(t,e){var o,l,i;const n=e.globals.variables||{},s=String(n.google_page_speed_insights_key||"").trim();if(!s)return{label:"PSI",message:"No PSI key set",type:"info"};const r=await T(t.url,"desktop",s);return{label:"PSI",message:`Desktop performance: ${Math.round((((i=(l=(o=r.lighthouseResult)==null?void 0:o.categories)==null?void 0:l.performance)==null?void 0:i.score)||0)*100)}`,type:"info"}}},st=t=>{const e=t.globals.variables||{};return String(e.google_page_speed_insights_key||"").trim()},rt={id:"psi:mobile-fcp-tbt",name:"PSI v5 Mobile FCP/TBT",enabled:!1,async run(t,e){var i,c,u;const n=st(e);if(!n)return{label:"PSI",message:"No PSI key set",type:"info"};const r=((i=(await T(t.url,"mobile",n)).lighthouseResult)==null?void 0:i.audits)||{},a=(c=r["first-contentful-paint"])==null?void 0:c.numericValue,o=(u=r["total-blocking-time"])==null?void 0:u.numericValue;return{label:"PSI",message:[typeof a=="number"?`FCP ${Math.round(a)}ms`:null,typeof o=="number"?`TBT ${Math.round(o)}ms`:null].filter(Boolean).join(", ")||"Metrics unavailable",type:"info"}}},at={id:"mft:mobile-friendly",name:"Mobile Friendly Test",enabled:!1,async run(t,e){const n=e.globals.variables||{},s=String(n.google_mobile_friendly_test_key||"").trim();if(!s)return{label:"MFT",message:"No MFT key set",type:"info"};const r=`https://searchconsole.googleapis.com/v1/urlTestingTools/mobileFriendlyTest:run?key=${encodeURIComponent(s)}`,a=await fetch(r,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({url:t.url})});if(!a.ok)return{label:"MFT",message:`MFT error ${a.status}`,type:"warn"};const l=((await a.json()).mobileFriendliness||"").toLowerCase();return{label:"MFT",message:`Mobile friendly: ${l||"unknown"}`,type:l==="mobile_friendly"?"ok":"warn"}}},ot={id:"gsc:property-available",name:"GSC webproperty available",enabled:!1,async run(t,e){const n=e.globals.googleApiAccessToken||null;if(!n)return{label:"GSC",message:"No Google token",type:"info"};const s=new URL(t.url).origin,r=await fetch("https://www.googleapis.com/webmasters/v3/sites",{headers:{Authorization:`Bearer ${n}`}});return r.ok?((await r.json()).siteEntry||[]).some(l=>(l.siteUrl||"").includes(s))?{label:"GSC",message:"Property available",type:"ok"}:{label:"GSC",message:"Property not available",type:"warn"}:{label:"GSC",message:`GSC error ${r.status}`,type:"warn"}}},lt={id:"gsc:is-indexed",name:"GSC is indexed (via impressions)",enabled:!1,async run(t,e){const n=e.globals.googleApiAccessToken||null,s=e.globals.variables||{};if(!n)return{label:"GSC",message:"No Google token",type:"info"};const r=String(s.gsc_site_url||"");if(!r)return{label:"GSC",message:"Set variables.gsc_site_url",type:"info"};const a={startDate:"2020-01-01",endDate:"2099-12-31",dimensions:["page"],dimensionFilterGroups:[{groupType:"and",filters:[{dimension:"page",operator:"equals",expression:t.url}]}]},o=await fetch(`https://www.googleapis.com/webmasters/v3/sites/${encodeURIComponent(r)}/searchAnalytics/query`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"content-type":"application/json"},body:JSON.stringify(a)});if(!o.ok)return{label:"GSC",message:`GSC query error ${o.status}`,type:"warn"};const i=((await o.json()).rows||[]).reduce((c,u)=>c+(u.impressions||0),0);return i>0?{label:"GSC",message:`Indexed (impressions ${i})`,type:"ok"}:{label:"GSC",message:"No impressions (might not be indexed)",type:"warn"}}},it={id:"gsc:top-queries-of-page",name:"GSC Top queries of page",enabled:!1,async run(t,e){const n=e.globals.googleApiAccessToken||null,s=e.globals.variables||{};if(!n)return{label:"GSC",message:"No Google token",type:"info"};const r=String(s.gsc_site_url||"");if(!r)return{label:"GSC",message:"Set variables.gsc_site_url",type:"info"};const a={startDate:"2020-01-01",endDate:"2099-12-31",dimensions:["query","page"],dimensionFilterGroups:[{groupType:"and",filters:[{dimension:"page",operator:"equals",expression:t.url}]}],rowLimit:5},o=await fetch(`https://www.googleapis.com/webmasters/v3/sites/${encodeURIComponent(r)}/searchAnalytics/query`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"content-type":"application/json"},body:JSON.stringify(a)});return o.ok?{label:"GSC",message:`Top queries: ${((await o.json()).rows||[]).map(c=>`${(c.keys||[])[0]||""} (${c.impressions||0})`).join(", ")||"none"}`,type:"info"}:{label:"GSC",message:`GSC query error ${o.status}`,type:"warn"}}},ct={id:"gsc:page-worldwide",name:"GSC page worldwide analytics",enabled:!1,async run(t,e){const n=e.globals.googleApiAccessToken||null,s=e.globals.variables||{};if(!n)return{label:"GSC",message:"No Google token",type:"info"};const r=String(s.gsc_site_url||"");if(!r)return{label:"GSC",message:"Set variables.gsc_site_url",type:"info"};const a={startDate:"2020-01-01",endDate:"2099-12-31",dimensions:["page"]},o=await fetch(`https://www.googleapis.com/webmasters/v3/sites/${encodeURIComponent(r)}/searchAnalytics/query`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"content-type":"application/json"},body:JSON.stringify(a)});if(!o.ok)return{label:"GSC",message:`GSC query error ${o.status}`,type:"warn"};const i=((await o.json()).rows||[]).find(b=>(b.keys||[])[0]===t.url),c=(i==null?void 0:i.impressions)||0,u=(i==null?void 0:i.clicks)||0;return{label:"GSC",message:`Impressions ${c}, Clicks ${u}`,type:"info"}}},ut={id:"gsc:directory-worldwide",name:"GSC directory worldwide analytics",enabled:!1,async run(t,e){const n=e.globals.googleApiAccessToken||null,s=e.globals.variables||{};if(!n)return{label:"GSC",message:"No Google token",type:"info"};const r=String(s.gsc_site_url||"");if(!r)return{label:"GSC",message:"Set variables.gsc_site_url",type:"info"};const a=t.url.replace(/\/?[^/]*$/,"/"),o={startDate:"2020-01-01",endDate:"2099-12-31",dimensions:["page"],dimensionFilterGroups:[{groupType:"and",filters:[{dimension:"page",operator:"contains",expression:a}]}],rowLimit:10},l=await fetch(`https://www.googleapis.com/webmasters/v3/sites/${encodeURIComponent(r)}/searchAnalytics/query`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"content-type":"application/json"},body:JSON.stringify(o)});return l.ok?{label:"GSC",message:`Directory impressions ${((await l.json()).rows||[]).reduce((u,b)=>u+(b.impressions||0),0)}`,type:"info"}:{label:"GSC",message:`GSC query error ${l.status}`,type:"warn"}}},dt={id:"url:history-state-update",name:"History state update detected",enabled:!0,async run(t,e){const n=e.globals.events||[],s=n.some(a=>a&&a.t==="nav:history"),r=n.some(a=>a&&a.t==="nav:commit");return s&&!r?{label:"URL",message:"History state update (SPA navigation) observed",type:"info"}:{label:"URL",message:"No SPA-only history update detected",type:"info"}}},mt=t=>((t==null?void 0:t["x-robots-tag"])||"").toLowerCase(),gt={id:"http:unavailable-after",name:"X-Robots unavailable_after",enabled:!0,async run(t){const e=mt(t.headers);return/unavailable_after\s*:\s*\S+/.test(e)?{label:"HTTP",message:`unavailable_after set (${e})`,type:"warn"}:{label:"HTTP",message:"No unavailable_after",type:"ok"}}},pt={id:"http:cache-delivery",name:"Delivered from cache (Age)",enabled:!0,async run(t){var n;const e=Number(((n=t.headers)==null?void 0:n.age)||"0");return e>0?{label:"HTTP",message:`Age: ${e} (from cache)`,type:"info"}:{label:"HTTP",message:"No cache Age header",type:"info"}}},bt=["content-security-policy","x-content-type-options","referrer-policy","permissions-policy","cross-origin-resource-policy"],yt={id:"http:security-headers",name:"Security headers presence",enabled:!0,async run(t){const e=t.headers||{},n=bt.filter(s=>!e[s]);return n.length?{label:"HTTP",message:`Missing security headers: ${n.join(", ")}`,type:"info"}:{label:"HTTP",message:"Security headers present",type:"info"}}},ht={id:"http:https-scheme",name:"HTTPS Scheme",enabled:!0,async run(t){try{if(new URL(t.url).protocol==="https:")return{label:"HTTP",message:"HTTPS in use",type:"ok"}}catch{}return{label:"HTTP",message:"Not using HTTPS",type:"warn"}}},ft={id:"http:h2-advertised",name:"HTTP/2 Advertised (Alt-Svc)",enabled:!0,async run(t){var n;const e=(((n=t.headers)==null?void 0:n["alt-svc"])||"").toLowerCase();return/\bh2\b|h2=/.test(e)?{label:"HTTP",message:"Alt-Svc advertises HTTP/2",type:"info"}:{label:"HTTP",message:"HTTP/2 not advertised",type:"info"}}},wt={id:"http:h3-advertised",name:"HTTP/3 Advertised (Alt-Svc)",enabled:!0,async run(t){var n;const e=(((n=t.headers)==null?void 0:n["alt-svc"])||"").toLowerCase();return/\bh3\b|h3-/.test(e)?{label:"HTTP",message:"Alt-Svc advertises HTTP/3",type:"info"}:{label:"HTTP",message:"HTTP/3 not advertised",type:"info"}}},St={id:"http:alt-svc-other",name:"Alt-Svc other protocols",enabled:!0,async run(t){var o;const e=(((o=t.headers)==null?void 0:o["alt-svc"])||"").toLowerCase(),n=/(h2|h3)/g,s=!!e,r=e.replace(n,""),a=/quic|spdy|http\/1\.1/.test(r);return s&&a?{label:"HTTP",message:`Alt-Svc other protocols: ${e}`,type:"info"}:{label:"HTTP",message:"No other Alt-Svc protocols",type:"info"}}},At=t=>{var e;return(((e=t.body)==null?void 0:e.innerText)||"").toLowerCase().replace(/[^a-z0-9\s]/g," ").replace(/\s+/g," ").trim()},kt=t=>{const e=new Map;for(const n of t.split(" "))n.length>=4&&e.set(n,(e.get(n)||0)+1);return[...e.entries()].sort((n,s)=>s[1]-n[1]).slice(0,5)},Rt={id:"dom:top-words",name:"Top words",enabled:!0,async run(t){const e=At(t.doc);return e?{label:"DOM",message:`Top words: ${kt(e).map(([s,r])=>`${s}(${r})`).join(", ")}`,type:"info"}:{label:"DOM",message:"No text",type:"info"}}},Tt={id:"head:canonical-chain",name:"Canonical redirect chain",enabled:!0,async run(t){var a;const e=((a=t.doc.querySelector('link[rel="canonical"]'))==null?void 0:a.getAttribute("href"))||"";if(!e)return{label:"HEAD",message:"No canonical link",type:"info"};let s=new URL(e,t.url).toString(),r=0;for(let o=0;o<5;o++){const l=await fetch(s,{method:"HEAD",redirect:"manual"});if(l.status>=300&&l.status<400){const i=l.headers.get("location");if(!i)break;s=new URL(i,s).toString(),r++}else break}return r>0?{label:"HEAD",message:`Canonical chain length ${r}`,type:r>3?"error":"warn"}:{label:"HEAD",message:"Canonical no redirects",type:"ok"}}},A=t=>{if(!t)return[];if(Array.isArray(t))return t.flatMap(A);if(typeof t=="object"){const e=t;return Array.isArray(e["@graph"])?A(e["@graph"]):[e]}return[]},P=t=>{const e=[];return t.querySelectorAll('script[type="application/ld+json"]').forEach(n=>{try{e.push(...A(JSON.parse(n.textContent||"null")))}catch{}}),e},vt=t=>{const e=t["@type"];return e?(Array.isArray(e)?e:[e]).map(n=>String(n).toLowerCase()):[]},g=(t,e)=>t.filter(n=>vt(n).some(s=>s.includes(e.toLowerCase()))),p=(t,e)=>{let n=t;for(const s of e.split(".")){if(n===null||typeof n!="object")return;n=n[s]}return n},k=t=>{const e="https://developers.google.com/search/docs/appearance/structured-data";return{article:`${e}/article`,product:`${e}/product`,faq:`${e}/faqpage`,howto:`${e}/how-to`,recipe:`${e}/recipe`,event:`${e}/event`,jobposting:`${e}/job-posting`,video:`${e}/video`,breadcrumb:`${e}/breadcrumb`,organization:`${e}/logo`,localbusiness:`${e}/local-business`,website:`${e}/sitelinks-searchbox`,review:`${e}/review-snippet`}[t.toLowerCase()]||e},Dt={id:"schema:article:present",name:"Schema Article present",enabled:!0,async run(t){const e=P(t.doc);return[...g(e,"article"),...g(e,"newsarticle"),...g(e,"blogposting")].length?{label:"SCHEMA",message:`Article JSON‑LD found · Docs: ${k("article")}`,type:"ok"}:{label:"SCHEMA",message:"No Article/NewsArticle JSON‑LD",type:"info"}}},Ct=(t,e)=>{let n=t;for(const s of e.split(".")){if(n===null||typeof n!="object")return!1;n=n[s]}return!!n},Ot=(t,e)=>e.filter(n=>!Ct(t,n)),Ht={id:"schema:article:required",name:"Schema Article required fields",enabled:!0,async run(t){const e=P(t.doc),n=[...g(e,"article"),...g(e,"newsarticle"),...g(e,"blogposting")];if(!n.length)return{label:"SCHEMA",message:"No Article JSON‑LD",type:"info"};const s=n[0],r=["headline"],a=!!p(s,"datePublished")||!!p(s,"dateModified"),o=Ot(s,r);a||o.push("datePublished|dateModified"),p(s,"image")||o.push("image");const l=p(s,"author");return(typeof l=="string"?l:p(l,"name"))||o.push("author.name"),o.length?{label:"SCHEMA",message:`Article missing: ${o.join(", ")} · Docs: ${k("article")}`,type:"warn"}:{label:"SCHEMA",message:`Article required OK · Docs: ${k("article")}`,type:"ok"}}},O=(t,e)=>new RegExp(`\\b${e.replace(/[-]/g,"[-]")}\\b`,"i").test(t),$t={id:"discover:max-image-preview-large",name:"Discover: max-image-preview:large",enabled:!0,async run(t){var r,a;const e=(((r=t.doc.querySelector('meta[name="robots"]'))==null?void 0:r.getAttribute("content"))||"").toLowerCase(),n=(((a=t.headers)==null?void 0:a["x-robots-tag"])||"").toLowerCase();return O(e,"max-image-preview:large")||O(n,"max-image-preview:large")?{label:"DISCOVER",message:"max-image-preview:large present",type:"ok"}:{label:"DISCOVER",message:"Consider max-image-preview:large",type:"warn"}}},xt={id:"discover:twitter-large-card",name:"Discover: Twitter large card",enabled:!0,async run(t){var n;return(((n=t.doc.querySelector('meta[name="twitter:card"]'))==null?void 0:n.getAttribute("content"))||"").toLowerCase()==="summary_large_image"?{label:"DISCOVER",message:"twitter:card=summary_large_image",type:"ok"}:{label:"DISCOVER",message:"Consider twitter:card=summary_large_image",type:"info"}}},Et=t=>{const e=Array.from(t.querySelectorAll('script[type="application/ld+json"]'));for(const n of e)try{const s=JSON.parse(n.textContent||"null"),r=Array.isArray(s)?s:[s];for(const a of r){const o=(a&&(a["@type"]||"")).toString().toLowerCase();if(o.includes("article")||o.includes("newsarticle"))return!0}}catch{}return!1},Pt={id:"discover:article-structured-data",name:"Discover: Article structured data",enabled:!0,async run(t){return Et(t.doc)?{label:"DISCOVER",message:"Article/NewsArticle structured data present",type:"ok"}:{label:"DISCOVER",message:"Add Article structured data",type:"warn"}}},Lt=t=>{var e,n;return((e=t.querySelector('meta[property="article:published_time"], meta[name="pubdate"], time[datetime]'))==null?void 0:e.getAttribute("content"))||((n=t.querySelector("time[datetime]"))==null?void 0:n.getAttribute("datetime"))||""},Nt=t=>{const e=Array.from(t.querySelectorAll('script[type="application/ld+json"]'));for(const n of e)try{const s=JSON.parse(n.textContent||"null"),r=Array.isArray(s)?s:[s];for(const a of r)if(a&&typeof a.datePublished=="string")return a.datePublished}catch{}return""},qt={id:"discover:published-time",name:"Discover: Published time",enabled:!0,async run(t){const e=Lt(t.doc)||Nt(t.doc);return e?{label:"DISCOVER",message:`Published: ${e}`,type:"info"}:{label:"DISCOVER",message:"Add published time (meta or LD+JSON)",type:"warn"}}},Mt=t=>{var e;return(((e=t.querySelector('meta[name="author"]'))==null?void 0:e.getAttribute("content"))||"").trim()},It=t=>{const e=Array.from(t.querySelectorAll('script[type="application/ld+json"]'));for(const n of e)try{const s=JSON.parse(n.textContent||"null"),r=Array.isArray(s)?s:[s];for(const a of r){const o=a&&a.author,l=typeof o=="string"?o:o&&typeof o.name=="string"?o.name:"";if(l)return String(l)}}catch{}return""},Gt={id:"discover:author",name:"Discover: Author present",enabled:!0,async run(t){const e=Mt(t.doc)||It(t.doc);return e?{label:"DISCOVER",message:`Author: ${e}`,type:"info"}:{label:"DISCOVER",message:"Add author (meta or LD+JSON)",type:"warn"}}},jt={id:"discover:headline-length",name:"Discover: Headline length",enabled:!0,async run(t){var s;const n=(((s=t.doc.querySelector("h1"))==null?void 0:s.textContent)||"").trim().length;return n?n>=20?{label:"DISCOVER",message:`Headline length OK (${n})`,type:"ok"}:{label:"DISCOVER",message:"Headline may be too short",type:"info"}:{label:"DISCOVER",message:"No H1 headline",type:"warn"}}},Ut=(t,e)=>{var r;const n=(((r=t.querySelector('meta[name="robots"]'))==null?void 0:r.getAttribute("content"))||"").toLowerCase(),s=((e==null?void 0:e["x-robots-tag"])||"").toLowerCase();return/\bnoindex\b/.test(n)||/\bnoindex\b/.test(s)},_t={id:"discover:indexable",name:"Discover: Indexable",enabled:!0,async run(t){return Ut(t.doc,t.headers)?{label:"DISCOVER",message:"Noindex detected",type:"warn"}:{label:"DISCOVER",message:"Indexable",type:"ok"}}},Bt={id:"discover:canonical-ok",name:"Discover: Canonical present + absolute",enabled:!0,async run(t){const e=t.doc.querySelector('link[rel="canonical"]');if(!e)return{label:"DISCOVER",message:"No canonical link",type:"warn"};const n=e.getAttribute("href")||"";try{return new URL(n,t.url).toString().startsWith("http")?{label:"DISCOVER",message:"Canonical OK",type:"ok"}:{label:"DISCOVER",message:"Canonical is not absolute",type:"warn"}}catch{return{label:"DISCOVER",message:"Invalid canonical URL",type:"warn"}}}},Vt={id:"discover:og-image-large",name:"Discover: Large OG image (metadata)",enabled:!0,async run(t){var a,o;const e=parseInt((((a=t.doc.querySelector('meta[property="og:image:width"]'))==null?void 0:a.getAttribute("content"))||"").trim(),10),n=parseInt((((o=t.doc.querySelector('meta[property="og:image:height"]'))==null?void 0:o.getAttribute("content"))||"").trim(),10);return!t.doc.querySelector('meta[property="og:image"]')?{label:"DISCOVER",message:"Missing og:image",type:"warn"}:e>=1200||n>=1200?{label:"DISCOVER",message:"OG image metadata suggests large image",type:"ok"}:{label:"DISCOVER",message:"Consider large OG image (>=1200px)",type:"info"}}},Ft={id:"discover:primary-language",name:"Discover: Primary language set",enabled:!0,async run(t){const e=(t.doc.documentElement.getAttribute("lang")||"").trim();return e?{label:"DISCOVER",message:`Primary language: ${e}`,type:"info"}:{label:"DISCOVER",message:"Set html[lang]",type:"warn"}}},Jt=[L,N,q,I,j,_,B,V,F,J,z,K,W,X,Q,Z,ee,te,ne,se,re,ae,oe,ie,ce,ue,de,ge,pe,ye,fe,we,Se,Ae,ke,Te,ve,De,He,Le,Ne,qe,Me,Ge,je,Ue,_e,Be,Ve,Fe,dt,gt,ht,ft,wt,St,pt,yt,Rt,Tt,Je,ze,Ye,Ke,We,Xe,tt,nt,rt,at,ot,lt,it,ct,ut,$t,xt,Pt,qt,Gt,jt,_t,Bt,Vt,Ft,Dt,Ht];export{Jt as r};
